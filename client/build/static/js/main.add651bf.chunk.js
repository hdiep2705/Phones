(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,t,c){},70:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(22),s=c.n(a),i=(c(44),c(6)),j=c(3),o=c.n(j),d=c(5),u=c(2),l=c(4),b=c.n(l);var h=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(u.a)(a,2),i=s[0],j=s[1],l=Object(n.useState)(""),h=Object(u.a)(l,2),O=h[0],p=h[1],x=Object(n.useState)(""),m=Object(u.a)(x,2),f=m[0],v=m[1],g=Object(n.useState)(""),y=Object(u.a)(g,2),w=y[0],k=y[1],C=Object(n.useState)(1),N=Object(u.a)(C,2),A=N[0],_=N[1],S=Object(n.useState)(0),I=Object(u.a)(S,2),P=I[0],E=I[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/products?limit=".concat(9*A,"&").concat(O,"&").concat(f,"&title[regex]=").concat(w));case 2:t=e.sent,r(t.data.products),E(t.data.result);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i,O,f,w,A]),{products:[c,r],callback:[i,j],category:[O,p],sort:[f,v],search:[w,k],page:[A,_],result:[P,E]}},O=c(8),p=c(14);var x=function(e){var t=Object(n.useState)(!1),c=Object(u.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(!1),i=Object(u.a)(s,2),j=i[0],l=i[1],h=Object(n.useState)([]),x=Object(u.a)(h,2),m=x[0],f=x[1],v=Object(n.useState)([]),g=Object(u.a)(v,2),y=g[0],w=g[1],k=Object(n.useState)(!1),C=Object(u.a)(k,2);C[0],C[1],Object(n.useEffect)((function(){e&&function(){var t=Object(d.a)(o.a.mark((function t(){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("/user/infor",{headers:{Authorization:e}});case 3:c=t.sent,a(!0),1===c.data.role?l(!0):l(!1),f(c.data.cart),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert(t.t0.response.data.msg);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()()}),[e]);var N=function(){var t=Object(d.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",alert("Vui l\xf2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 ti\u1ebfp t\u1ee5c mua "));case 2:if(!m.every((function(e){return e._id!==c._id}))){t.next=9;break}return f([].concat(Object(p.a)(m),[Object(O.a)(Object(O.a)({},c),{},{quantity:1})])),t.next=7,b.a.patch("/user/addcart",{cart:[].concat(Object(p.a)(m),[Object(O.a)(Object(O.a)({},c),{},{quantity:1})])},{headers:{Authorization:e}});case 7:t.next=10;break;case 9:alert("S\u1ea3n ph\u1ea9m n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o gi\u1ecf h\xe0ng.");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{isLogged:[r,a],isAdmin:[j,l],cart:[m,f],addCart:N,history:[y,w]}};var m=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(u.a)(a,2),i=s[0],j=s[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/category");case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),{categories:[c,r],callback:[i,j]}},f=c(0),v=Object(n.createContext)(),g=function(e){var t=e.children,c=Object(n.useState)(!1),r=Object(u.a)(c,2),a=r[0],s=r[1];Object(n.useEffect)((function(){if(localStorage.getItem("firstLogin")){var e=function(){var t=Object(d.a)(o.a.mark((function t(){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/user/refresh_token");case 2:c=t.sent,s(c.data.accesstoken),setTimeout((function(){e()}),6e5);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e()}}),[]);var i={token:[a,s],productsAPI:h(),userAPI:x(a),categoriesAPI:m()};return Object(f.jsx)(v.Provider,{value:i,children:t})},y=c.p+"static/media/menu.e8db7520.svg",w=c.p+"static/media/close.ea7c95d7.svg",k=c.p+"static/media/cart.d146d6c3.svg";var C=function(){var e=Object(n.useContext)(v),t=Object(u.a)(e.userAPI.isLogged,1)[0],c=Object(u.a)(e.userAPI.isAdmin,1)[0],r=Object(u.a)(e.userAPI.cart,1)[0],a=Object(n.useState)(!1),s=Object(u.a)(a,2),j=s[0],l=s[1],h=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/user/logout");case 2:localStorage.removeItem("firstLogin"),window.location.href="/";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O={left:j?0:"-100%"};return Object(f.jsxs)("header",{children:[Object(f.jsx)("div",{className:"menu",onClick:function(){return l(!j)},children:Object(f.jsx)("img",{src:y,alt:"",width:"30"})}),Object(f.jsx)("div",{className:"logo",children:Object(f.jsx)("h1",{children:Object(f.jsx)(i.b,{to:"/",children:c?"Admin":"Zin Shop"})})}),Object(f.jsxs)("ul",{style:O,children:[Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/",children:c?"S\u1ea3n Ph\u1ea9m":"Shop"})}),c&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/create_product",children:"T\u1ea1o s\u1ea3n ph\u1ea9m"})}),Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/category",children:"Danh m\u1ee5c"})})]}),t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/history",children:"L\u1ecbch s\u1eed"})}),Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/",onClick:h,children:"\u0110\u0103ng xu\u1ea5t"})})]}):Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/login",children:"\u0110\u0103ng nh\u1eadp \u2725 \u0110\u0103ng k\xfd"})}),Object(f.jsx)("li",{onClick:function(){return l(!j)},children:Object(f.jsx)("img",{src:w,alt:"",width:"30",className:"menu"})})]}),c?"":Object(f.jsxs)("div",{className:"cart-icon",children:[Object(f.jsx)("span",{children:r.length}),Object(f.jsx)(i.b,{to:"/cart",children:Object(f.jsx)("img",{src:k,alt:"",width:"30"})})]})]})},N=c(7);var A=function(e){var t=e.product,c=e.deleteProduct,r=Object(n.useContext)(v),a=Object(u.a)(r.userAPI.isAdmin,1)[0],s=r.userAPI.addCart;return Object(f.jsx)("div",{className:"row_btn",children:a?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(i.b,{id:"btn_buy",to:"#!",onClick:function(){return c(t._id,t.images.public_id)},children:"Xo\xe1"}),Object(f.jsx)(i.b,{id:"btn_view",to:"/edit_product/".concat(t._id),children:"Ch\u1ec9nh s\u1eeda"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(i.b,{id:"btn_buy",to:"#!",onClick:function(){return s(t)},children:"Mua"}),Object(f.jsx)(i.b,{id:"btn_view",to:"/detail/".concat(t._id),children:"Xem"})]})})};var _=function(e){var t=e.product,c=e.isAdmin,n=e.deleteProduct,r=e.handleCheck;return Object(f.jsxs)("div",{className:"product_card",children:[c&&Object(f.jsx)("input",{type:"checkbox",checked:t.checked,onChange:function(){return r(t._id)}}),Object(f.jsx)("img",{src:t.images.url,alt:""}),Object(f.jsxs)("div",{className:"product_box",children:[Object(f.jsx)("h2",{title:t.title,children:t.title}),Object(f.jsxs)("span",{children:["$",t.price]}),Object(f.jsx)("p",{children:t.description})]}),Object(f.jsx)(A,{product:t,deleteProduct:n})]})};c(70);var S=function(){return Object(f.jsx)("div",{className:"load-page",children:Object(f.jsx)("div",{className:"loader",children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{})})})})})})})})})})};var I=function(){var e=Object(n.useContext)(v),t=Object(u.a)(e.categoriesAPI.categories,1)[0],c=Object(u.a)(e.productsAPI.category,2),r=c[0],a=c[1],s=Object(u.a)(e.productsAPI.sort,2),i=s[0],j=s[1],o=Object(u.a)(e.productsAPI.search,2),d=o[0],l=o[1];return Object(f.jsxs)("div",{className:"filter_menu",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("span",{children:"B\u1ed9 l\u1ecdc: "}),Object(f.jsxs)("select",{name:"category",value:r,onChange:function(e){a(e.target.value),l("")},children:[Object(f.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 s\u1ea3n ph\u1ea9m"}),t.map((function(e){return Object(f.jsx)("option",{value:"category="+e._id,children:e.name},e._id)}))]})]}),Object(f.jsx)("input",{type:"text",value:d,placeholder:"Nh\u1eadp t\xecm ki\u1ebfm c\u1ee7a b\u1ea1n!",onChange:function(e){return l(e.target.value.toLowerCase())}}),Object(f.jsxs)("div",{className:"row sort",children:[Object(f.jsx)("span",{children:"S\u1eafp x\u1ebfp theo: "}),Object(f.jsxs)("select",{value:i,onChange:function(e){return j(e.target.value)},children:[Object(f.jsx)("option",{value:"",children:"M\u1edbi nh\u1ea5t"}),Object(f.jsx)("option",{value:"sort=oldest",children:"C\u0169 nh\u1ea5t"}),Object(f.jsx)("option",{value:"sort=-sold",children:"B\xe1n h\xe0ng t\u1ed1t nh\u1ea5t"}),Object(f.jsx)("option",{value:"sort=-price",children:"Gi\xe1: Cao-Th\u1ea5p"}),Object(f.jsx)("option",{value:"sort=price",children:"Gi\xe1: Th\u1ea5p-Cao"})]})]})]})};var P=function(){var e=Object(n.useContext)(v),t=Object(u.a)(e.productsAPI.page,2),c=t[0],r=t[1],a=Object(u.a)(e.productsAPI.result,1)[0];return Object(f.jsx)("div",{className:"load_more",children:a<9*c?"":Object(f.jsx)("button",{onClick:function(){return r(c+1)},children:"T\u1ea3i th\xeam"})})};var E=function(){var e=Object(n.useContext)(v),t=Object(u.a)(e.productsAPI.products,2),c=t[0],r=t[1],a=Object(u.a)(e.userAPI.isAdmin,1)[0],s=Object(u.a)(e.token,1)[0],i=Object(u.a)(e.productsAPI.callback,2),j=i[0],l=i[1],h=Object(n.useState)(!1),O=Object(u.a)(h,2),x=O[0],m=O[1],g=Object(n.useState)(!1),y=Object(u.a)(g,2),w=y[0],k=y[1],C=function(e){c.forEach((function(t){t._id===e&&(t.checked=!t.checked)})),r(Object(p.a)(c))},N=function(){var e=Object(d.a)(o.a.mark((function e(t,c){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),n=b.a.post("/api/destroy",{public_id:c},{headers:{Authorization:s}}),r=b.a.delete("/api/products/".concat(t),{headers:{Authorization:s}}),e.next=6,n;case 6:return e.next=8,r;case 8:l(!j),m(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,c){return e.apply(this,arguments)}}();return x?Object(f.jsx)("div",{children:Object(f.jsx)(S,{})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I,{}),a&&Object(f.jsxs)("div",{className:"delete-all",children:[Object(f.jsx)("span",{children:"Ch\u1ecdn t\u1ea5t c\u1ea3"}),Object(f.jsx)("input",{type:"checkbox",checked:w,onChange:function(){c.forEach((function(e){e.checked=!w})),r(Object(p.a)(c)),k(!w)}}),Object(f.jsx)("button",{onClick:function(){c.forEach((function(e){e.checked&&N(e._id,e.images.public_id)}))},children:"X\xf3a T\u1ea4T C\u1ea2"})]}),Object(f.jsx)("div",{className:"products",children:c.map((function(e){return Object(f.jsx)(_,{product:e,isAdmin:a,deleteProduct:N,handleCheck:C},e._id)}))}),Object(f.jsx)(P,{}),0===c.length&&Object(f.jsx)(S,{})]})};var q=function(){var e=Object(N.g)(),t=Object(n.useContext)(v),c=Object(u.a)(t.productsAPI.products,1)[0],r=t.userAPI.addCart,a=Object(n.useState)([]),s=Object(u.a)(a,2),j=s[0],o=s[1];return Object(n.useEffect)((function(){e.id&&c.forEach((function(t){t._id===e.id&&o(t)}))}),[e.id,c]),0===j.length?null:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"detail",children:[Object(f.jsx)("img",{src:j.images.url,alt:""}),Object(f.jsxs)("div",{className:"box-detail",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("h2",{children:j.title}),Object(f.jsxs)("h6",{children:["#id: ",j.product_id]})]}),Object(f.jsxs)("span",{children:["$",j.price]}),Object(f.jsx)("p",{children:j.description}),Object(f.jsx)("p",{children:j.content}),Object(f.jsxs)("p",{children:["\u0110\xe3 B\xe1n: ",j.sold]}),Object(f.jsx)(i.b,{to:"/cart",className:"cart",onClick:function(){return r(j)},children:"Mua ngay"})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Nh\u1eefng s\u1ea3n ph\u1ea9m t\u01b0\u01a1ng t\u1ef1"}),Object(f.jsx)("div",{className:"products",children:c.map((function(e){return e.category===j.category?Object(f.jsx)(_,{product:e},e._id):null}))})]})]})},D=c(15);var z=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(u.a)(e,2),c=t[0],r=t[1],a=function(e){var t=e.target,n=t.name,a=t.value;r(Object(O.a)(Object(O.a)({},c),{},Object(D.a)({},n,a)))},s=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b.a.post("/user/login",Object(O.a)({},c));case 4:localStorage.setItem("firstLogin",!0),window.location.href="/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"login-page",children:Object(f.jsxs)("form",{onSubmit:s,children:[Object(f.jsx)("h2",{children:"\u0110\u0103ng nh\u1eadp"}),Object(f.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Email",value:c.email,onChange:a}),Object(f.jsx)("input",{type:"password",name:"password",required:!0,autoComplete:"on",placeholder:"Password",value:c.password,onChange:a}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("button",{type:"submit",children:"\u0110\u0103ng Nh\u1eadp"}),Object(f.jsx)(i.b,{to:"/register",children:"\u0110\u0103ng K\xed"})]})]})})};var F=function(){var e=Object(n.useState)({name:"",email:"",password:""}),t=Object(u.a)(e,2),c=t[0],r=t[1],a=function(e){var t=e.target,n=t.name,a=t.value;r(Object(O.a)(Object(O.a)({},c),{},Object(D.a)({},n,a)))},s=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b.a.post("/user/register",Object(O.a)({},c));case 4:localStorage.setItem("firstLogin",!0),window.location.href="/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"login-page",children:Object(f.jsxs)("form",{onSubmit:s,children:[Object(f.jsx)("h2",{children:"\u0110\u0103ng k\xed"}),Object(f.jsx)("input",{type:"text",name:"name",required:!0,placeholder:"Name",value:c.name,onChange:a}),Object(f.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Email",value:c.email,onChange:a}),Object(f.jsx)("input",{type:"password",name:"password",required:!0,autoComplete:"on",placeholder:"Password",value:c.password,onChange:a}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("button",{type:"submit",children:"\u0110\u0103ng k\xfd"}),Object(f.jsx)(i.b,{to:"/login",children:"\u0110\u0103ng nh\u1eadp"})]})]})})};var T=function(){var e=Object(n.useContext)(v),t=Object(u.a)(e.userAPI.history,2),c=t[0],r=t[1],a=Object(u.a)(e.userAPI.isAdmin,1)[0],s=Object(u.a)(e.token,1)[0];return Object(n.useEffect)((function(){s&&function(){var e=Object(d.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,b.a.get("/api/payment",{headers:{Authorization:s}});case 3:t=e.sent,r(t.data),e.next=11;break;case 7:return e.next=9,b.a.get("/user/history",{headers:{Authorization:s}});case 9:c=e.sent,r(c.data);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[s,a,r]),Object(f.jsxs)("div",{className:"history-page",children:[Object(f.jsx)("h2",{children:"L\u1ecbch S\u1eed"}),Object(f.jsxs)("h4",{children:["B\u1ea1n C\xf3 ",c.length," \u0110\u01a1n H\xe0ng"]}),Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Payment ID"}),Object(f.jsx)("th",{children:"Ng\xe0y mua"}),Object(f.jsx)("th",{})]})}),Object(f.jsx)("tbody",{children:c.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.paymentID}),Object(f.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),Object(f.jsx)("td",{children:Object(f.jsx)(i.b,{to:"/history/".concat(e._id),children:"Xem"})})]},e._id)}))})]})]})};var B=function(){var e=Object(n.useContext)(v),t=Object(u.a)(e.userAPI.history,1)[0],c=Object(n.useState)([]),r=Object(u.a)(c,2),a=r[0],s=r[1],i=Object(N.g)();return Object(n.useEffect)((function(){i.id&&t.forEach((function(e){e._id===i.id&&s(e)}))}),[i.id,t]),0===a.length?null:Object(f.jsxs)("div",{className:"history-page",children:[Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"T\xean"}),Object(f.jsx)("th",{children:"\u0110\u1ecba Ch\u1ec9"}),Object(f.jsx)("th",{children:"M\xe3 B\u01b0u \u0110i\u1ec7n"}),Object(f.jsx)("th",{children:"Qu\u1ed1c Gia"})]})}),Object(f.jsx)("tbody",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:a.address.recipient_name}),Object(f.jsx)("td",{children:a.address.line1+" - "+a.address.city}),Object(f.jsx)("td",{children:a.address.postal_code}),Object(f.jsx)("td",{children:a.address.country_code})]})})]}),Object(f.jsxs)("table",{style:{margin:"30px 0px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{}),Object(f.jsx)("th",{children:"C\xe1c S\u1ea3n Ph\u1ea9m"}),Object(f.jsx)("th",{children:"S\u1ed1 L\u01b0\u1ee3ng"}),Object(f.jsx)("th",{children:"Gi\xe1 B\xe1n"})]})}),Object(f.jsx)("tbody",{children:a.cart.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)("img",{src:e.images.url,alt:""})}),Object(f.jsx)("td",{children:e.title}),Object(f.jsx)("td",{children:e.quantity}),Object(f.jsxs)("td",{children:["$",e.price*e.quantity]})]},e._id)}))})]})]})},L=c(35),G=c(36),V=c(39),X=c(38),M=c(37),Y=c.n(M),U=function(e){Object(V.a)(c,e);var t=Object(X.a)(c);function c(){return Object(L.a)(this,c),t.apply(this,arguments)}return Object(G.a)(c,[{key:"render",value:function(){var e=this,t=this.props.total;return Object(f.jsx)(Y.a,{env:"sandbox",client:{sandbox:"AWsOKe9cnx3AnaYFBcpiCeAq3KsY1uJJgPgHUWfVsYrY6MoLEewxE4WusqZ9ub-6trw-XVNoEj9qaCn8",production:"YOUR-PRODUCTION-APP-ID"},currency:"USD",total:t,onError:function(e){console.log("Error!",e)},onSuccess:function(t){console.log("The payment was succeeded!",t),e.props.tranSuccess(t)},onCancel:function(e){console.log("The payment was cancelled!",e)},style:{size:"small",color:"blue",shape:"rect",label:"checkout",tagline:!1}})}}]),c}(r.a.Component);var W=function(){var e=Object(n.useContext)(v),t=Object(u.a)(e.userAPI.cart,2),c=t[0],r=t[1],a=Object(u.a)(e.token,1)[0],s=Object(n.useState)(0),i=Object(u.a)(s,2),j=i[0],l=i[1];Object(n.useEffect)((function(){!function(){var e=c.reduce((function(e,t){return e+t.price*t.quantity}),0);l(e)}()}),[c]);var h=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.patch("/user/addcart",{cart:t},{headers:{Authorization:a}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.paymentID,s=t.address,e.next=3,b.a.post("/api/payment",{cart:c,paymentID:n,address:s},{headers:{Authorization:a}});case 3:r([]),h([]),alert("B\u1ea1n \u0111\xe3 \u0111\u1eb7t h\xe0ng th\xe0nh c\xf4ng.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return 0===c.length?Object(f.jsx)("h2",{style:{textAlign:"center",fontSize:"5rem"},children:"Gi\u1ecf h\xe0ng tr\u1ed1ng"}):Object(f.jsxs)("div",{children:[c.map((function(e){return Object(f.jsxs)("div",{className:"detail cart",children:[Object(f.jsx)("img",{src:e.images.url,alt:""}),Object(f.jsxs)("div",{className:"box-detail",children:[Object(f.jsx)("h2",{children:e.title}),Object(f.jsxs)("h3",{children:["$",e.price*e.quantity]}),Object(f.jsx)("p",{children:e.description}),Object(f.jsx)("p",{children:e.content}),Object(f.jsxs)("div",{className:"amount",children:[Object(f.jsx)("button",{onClick:function(){return t=e._id,c.forEach((function(e){e._id===t&&(1===e.quantity?e.quantity=1:e.quantity-=1)})),r(Object(p.a)(c)),void h(c);var t},children:" - "}),Object(f.jsx)("span",{children:e.quantity}),Object(f.jsx)("button",{onClick:function(){return t=e._id,c.forEach((function(e){e._id===t&&(e.quantity+=1)})),r(Object(p.a)(c)),void h(c);var t},children:" + "})]}),Object(f.jsx)("div",{className:"delete",onClick:function(){return t=e._id,void(window.confirm("B\u1ea1n c\xf3 mu\u1ed1n x\xf3a s\u1ea3n ph\u1ea9m n\xe0y kh\xf4ng?")&&(c.forEach((function(e,n){e._id===t&&c.splice(n,1)})),r(Object(p.a)(c)),h(c)));var t},children:"X"})]})]},e._id)})),Object(f.jsxs)("div",{className:"total",children:[Object(f.jsxs)("h3",{children:["T\u1ed5ng:$",j]}),Object(f.jsx)(U,{total:j,tranSuccess:O})]})]})};var K=function(){return Object(f.jsx)("div",{children:"404 | Not Found"})};var $=function(){var e=Object(n.useContext)(v),t=Object(u.a)(e.categoriesAPI.categories,1)[0],c=Object(n.useState)(""),r=Object(u.a)(c,2),a=r[0],s=r[1],i=Object(u.a)(e.token,1)[0],j=Object(u.a)(e.categoriesAPI.callback,2),l=j[0],h=j[1],O=Object(n.useState)(!1),p=Object(u.a)(O,2),x=p[0],m=p[1],g=Object(n.useState)(""),y=Object(u.a)(g,2),w=y[0],k=y[1],C=function(){var e=Object(d.a)(o.a.mark((function e(t){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!x){e.next=9;break}return e.next=5,b.a.put("/api/category/".concat(w),{name:a},{headers:{Authorization:i}});case 5:c=e.sent,alert(c.data.msg),e.next=13;break;case 9:return e.next=11,b.a.post("/api/category/",{name:a},{headers:{Authorization:i}});case 11:n=e.sent,alert(n.data.msg);case 13:m(!1),s(""),h(!l),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(t),s(c),m(!0);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.delete("/api/category/".concat(t),{headers:{Authorization:i}});case 3:c=e.sent,alert(c.data.msg),h(!l),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"categories",children:[Object(f.jsxs)("form",{onSubmit:C,children:[Object(f.jsx)("label",{htmlFor:"category",children:"Danh m\u1ee5c"}),Object(f.jsx)("input",{type:"text",name:"category",value:a,required:!0,onChange:function(e){return s(e.target.value)}}),Object(f.jsx)("button",{type:"submit",children:x?"Update":"Create"})]}),Object(f.jsx)("div",{className:"col",children:t.map((function(e){return Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("p",{children:e.name}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){return N(e._id,e.name)},children:"S\u1eeda"}),Object(f.jsx)("button",{onClick:function(){return A(e._id)},children:"X\xf3a"})]})]},e._id)}))})]})},H={product_id:"",title:"",price:0,description:"",content:"",category:"",_id:""};var J=function(){var e=Object(n.useContext)(v),t=Object(n.useState)(H),c=Object(u.a)(t,2),r=c[0],a=c[1],s=Object(u.a)(e.categoriesAPI.categories,1)[0],i=Object(n.useState)(!1),j=Object(u.a)(i,2),l=j[0],h=j[1],p=Object(n.useState)(!1),x=Object(u.a)(p,2),m=x[0],g=x[1],y=Object(u.a)(e.userAPI.isAdmin,1)[0],w=Object(u.a)(e.token,1)[0],k=Object(N.f)(),C=Object(N.g)(),A=Object(u.a)(e.productsAPI.products,1)[0],_=Object(n.useState)(!1),I=Object(u.a)(_,2),P=I[0],E=I[1],q=Object(u.a)(e.productsAPI.callback,2),z=q[0],F=q[1];Object(n.useEffect)((function(){C.id?(E(!0),A.forEach((function(e){e._id===C.id&&(a(e),h(e.images))}))):(E(!1),a(H),h(!1))}),[C.id,A]);var T=function(){var e=Object(d.a)(o.a.mark((function e(t){var c,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,y){e.next=4;break}return e.abrupt("return",alert("B\u1ea1n kh\xf4ng ph\u1ea3i l\xe0 qu\u1ea3n tr\u1ecb vi\xean"));case 4:if(c=t.target.files[0]){e.next=7;break}return e.abrupt("return",alert("\u0110\u1ecbnh d\u1ea1ng t\u1ec7p kh\xf4ng ch\xednh x\xe1c."));case 7:if(!(c.size>1048576)){e.next=9;break}return e.abrupt("return",alert("K\xedch th\u01b0\u1edbc qu\xe1 l\u1edbn!"));case 9:if("image/jpeg"===c.type||"image/png"===c.type){e.next=11;break}return e.abrupt("return",alert("\u0110\u1ecbnh d\u1ea1ng t\u1ec7p kh\xf4ng ch\xednh x\xe1c."));case 11:return(n=new FormData).append("file",c),g(!0),e.next=16,b.a.post("/api/upload",n,{headers:{"content-type":"multipart/form-data",Authorization:w}});case 16:r=e.sent,g(!1),h(r.data),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,y){e.next=3;break}return e.abrupt("return",alert("You're not an admin"));case 3:return g(!0),e.next=6,b.a.post("/api/destroy",{public_id:l.public_id},{headers:{Authorization:w}});case 6:g(!1),h(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t=e.target,c=t.name,n=t.value;a(Object(O.a)(Object(O.a)({},r),{},Object(D.a)({},c,n)))},G=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,y){e.next=4;break}return e.abrupt("return",alert("B\u1ea1n kh\xf4ng ph\u1ea3i l\xe0 qu\u1ea3n tr\u1ecb vi\xean"));case 4:if(l){e.next=6;break}return e.abrupt("return",alert("Kh\xf4ng t\u1ea3i l\xean h\xecnh \u1ea3nh"));case 6:if(!P){e.next=11;break}return e.next=9,b.a.put("/api/products/".concat(r._id),Object(O.a)(Object(O.a)({},r),{},{images:l}),{headers:{Authorization:w}});case 9:e.next=13;break;case 11:return e.next=13,b.a.post("/api/products",Object(O.a)(Object(O.a)({},r),{},{images:l}),{headers:{Authorization:w}});case 13:F(!z),k.push("/"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),V={display:l?"block":"none"};return Object(f.jsxs)("div",{className:"create_product",children:[Object(f.jsxs)("div",{className:"upload",children:[Object(f.jsx)("input",{type:"file",name:"file",id:"file_up",onChange:T}),m?Object(f.jsx)("div",{id:"file_img",children:Object(f.jsx)(S,{})}):Object(f.jsxs)("div",{id:"file_img",style:V,children:[Object(f.jsx)("img",{src:l?l.url:"",alt:""}),Object(f.jsx)("span",{onClick:B,children:"X"})]})]}),Object(f.jsxs)("form",{onSubmit:G,children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("label",{htmlFor:"title",children:"ID S\u1ea3n Ph\u1ea9m"}),Object(f.jsx)("input",{type:"text",name:"product_id",id:"product_id",required:!0,value:r.product_id,onChange:L,disabled:P})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Ti\xeau \u0110\u1ec1"}),Object(f.jsx)("input",{type:"text",name:"title",id:"title",required:!0,value:r.title,onChange:L})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("label",{htmlFor:"price",children:"G\xeda B\xe1n"}),Object(f.jsx)("input",{type:"number",name:"price",id:"price",required:!0,value:r.price,onChange:L})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("label",{htmlFor:"description",children:"Mi\xeau T\u1ea3"}),Object(f.jsx)("textarea",{type:"text",name:"description",id:"description",required:!0,value:r.description,rows:"5",onChange:L})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("label",{htmlFor:"content",children:"N\u1ed9i Dung"}),Object(f.jsx)("textarea",{type:"text",name:"content",id:"content",required:!0,value:r.content,rows:"7",onChange:L})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("label",{htmlFor:"categories",children:"Th\u1ec3 Lo\u1ea1i: "}),Object(f.jsxs)("select",{name:"category",value:r.category,onChange:L,children:[Object(f.jsx)("option",{value:"",children:"Ch\u1ecdn danh m\u1ee5c"}),s.map((function(e){return Object(f.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(f.jsx)("button",{type:"submit",children:P?"Update":"T\u1ea1o"})]})]})};var R=function(){var e=Object(n.useContext)(v),t=Object(u.a)(e.userAPI.isLogged,1)[0],c=Object(u.a)(e.userAPI.isAdmin,1)[0];return Object(f.jsxs)(N.c,{children:[Object(f.jsx)(N.a,{path:"/",exact:!0,component:E}),Object(f.jsx)(N.a,{path:"/detail/:id",exact:!0,component:q}),Object(f.jsx)(N.a,{path:"/login",exact:!0,component:t?K:z}),Object(f.jsx)(N.a,{path:"/register",exact:!0,component:t?K:F}),Object(f.jsx)(N.a,{path:"/category",exact:!0,component:c?$:K}),Object(f.jsx)(N.a,{path:"/create_product",exact:!0,component:c?J:K}),Object(f.jsx)(N.a,{path:"/edit_product/:id",exact:!0,component:c?J:K}),Object(f.jsx)(N.a,{path:"/history",exact:!0,component:t?T:K}),Object(f.jsx)(N.a,{path:"/history/:id",exact:!0,component:t?B:K}),Object(f.jsx)(N.a,{path:"/cart",exact:!0,component:W}),Object(f.jsx)(N.a,{path:"*",exact:!0,component:K})]})},Z=c.p+"static/media/call.7df015ac.svg",Q=c.p+"static/media/home.831db11d.svg",ee=c.p+"static/media/mail.80b23b18.svg",te=c.p+"static/media/facebook.033c50dd.svg",ce=c.p+"static/media/insta.90a80cd5.svg",ne=c.p+"static/media/twitter.87682341.svg",re=c.p+"static/media/telegram.57094fe6.svg";var ae=function(){return Object(f.jsxs)("div",{className:"foter",children:[Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("hr",{}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"footer",children:[Object(f.jsxs)("div",{className:"logo",children:[Object(f.jsx)("h1",{children:Object(f.jsx)("a",{href:"/",children:"Zin Shop"})}),Object(f.jsx)("br",{}),Object(f.jsx)("h2",{children:"About Shop"}),Object(f.jsx)("pre",{children:Object(f.jsxs)("address",{children:["Written by Diep.",Object(f.jsx)("br",{}),"Visit us at:",Object(f.jsx)("br",{}),"Example.com",Object(f.jsx)("br",{}),"Box 564, Disneyland",Object(f.jsx)("br",{}),"VN"]})})]}),Object(f.jsxs)("div",{className:"contact",children:[Object(f.jsx)("h2",{children:"Contact us"}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)("img",{className:"icon",src:Q,alt:"",width:"30"}),Object(f.jsx)("span",{children:"H\u1ecdc Vi\u1ec7n N\xf4ng Nghi\u1ec7p Vi\u1ec7t Nam"})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"call",children:[Object(f.jsx)("img",{className:"icon",src:Z,alt:"",width:"30"}),Object(f.jsx)("span",{children:"  +84 394112056"})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"mail",children:[Object(f.jsx)("img",{className:"icon",src:ee,alt:"",width:"30"}),Object(f.jsx)("span",{children:" hdiep2705@gmail.com"})]})]}),Object(f.jsxs)("div",{className:"follow",children:[Object(f.jsx)("h2",{children:"Follow us"}),Object(f.jsxs)("div",{className:"fitt",children:[Object(f.jsx)("a",{href:"https://www.facebook.com/",target:"blank",children:Object(f.jsx)("img",{src:te,alt:"",width:"30"})}),Object(f.jsx)("a",{href:"https://www.instagram.com/",target:"blank",children:Object(f.jsx)("img",{src:ce,alt:"",width:"30"})}),Object(f.jsx)("a",{href:"https://www.twitter.com/",target:"blank",children:Object(f.jsx)("img",{src:ne,alt:"",width:"30"})}),Object(f.jsx)("a",{href:"https://www.telegram.org/",target:"blank",children:Object(f.jsx)("img",{src:re,alt:"",width:"30"})})]}),Object(f.jsx)("iframe",{title:"map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1590.7549869935847!2d105.93301252486715!3d21.004875631835716!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3135a8d22485051d%3A0x5cb2530a1a6b6c0!2zSOG7jWMgVmnhu4duIE7DtG5nIE5naGnhu4dwIFZp4buHdCBOYW0!5e1!3m2!1svi!2s!4v1622454005885!5m2!1svi!2s",width:"300",height:"200",frameborder:"0",allowfullscreen:"","aria-hidden":"false",tabindex:"0"})]})]}),Object(f.jsxs)("div",{className:"copyright",children:[Object(f.jsx)("hr",{}),Object(f.jsx)("p",{className:"content",children:"\xa9 2021 - Copyright by hoangdiep. All Rights Reserved."})]})]})};var se=function(){return Object(f.jsx)(g,{children:Object(f.jsx)(i.a,{children:Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(C,{}),Object(f.jsx)(R,{}),Object(f.jsx)(ae,{})]})})})};s.a.render(Object(f.jsx)(se,{}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.add651bf.chunk.js.map